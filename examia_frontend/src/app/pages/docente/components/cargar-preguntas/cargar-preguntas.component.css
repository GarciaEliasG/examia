:root{
  --bg:#f6f3ee; --surface:#fff; --ink:#0f172a; --muted:#6b7280;
  --primary:#0b57d0; --primary-600:#0a46a9; --border:#e5e7eb;
  --radius:14px; --shadow:0 8px 24px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif}

/* Topbar */
.topbar{height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 16px}
.logo{height:40px}
.top-actions{display:flex; gap:10px; align-items:center}
.icon-btn{border:1px solid var(--border); background:var(--surface); width:44px; height:44px; border-radius:50%; display:grid; place-items:center; box-shadow:var(--shadow); cursor:pointer}
.icon-btn svg{width:22px; height:22px; fill:var(--ink)}
.divider{height:1px; background:#e7e2dc}

/* Layout */
.wrap{max-width:980px; margin:0 auto; padding:18px 16px 80px}

.btn.primary{ background:var(--primary); color:#000; border-color:#1b5fd1; }

/* Título */
.title{
  text-align:center; font-weight:800;
  font-size:clamp(1.4rem,1.2rem + 1.2vw,2rem);
  margin:10px 0 18px;
}

/* Cards y campos */
.card{
  border:1px solid var(--border);
  border-radius:20px;
  background:var(--surface);
  box-shadow:var(--shadow);
  padding:18px;
}
.grid-2{display:grid; grid-template-columns:1fr; gap:16px}

.field{display:grid; gap:8px; margin-bottom:16px}
label{font-weight:700; color:#0b1b31}
input[type="text"], input[type="date"], select, textarea{
  width:100%; border:1px solid var(--border); border-radius:12px; background:#f9fafb;
  padding:12px 14px; font-size:1rem; outline:none; transition:border .15s, box-shadow .15s
}
input:focus, select:focus, textarea:focus{
  border-color:#c8d1ff; box-shadow:0 0 0 4px rgba(11,87,208,.12); background:#fff
}
textarea{resize:vertical}

/* Duración */
.inline{display:grid; grid-template-columns:1fr minmax(240px,280px); gap:16px; align-items:start}
.control{display:grid; gap:6px}
.control small{color:var(--muted)}
.control-label{font-size:.9rem; font-weight:700; color:#12213a}

.time-card{
  background:#f7f8ff; border:1px solid #dfe7ff; border-radius:16px; padding:14px
}
.time-inputs{display:flex; align-items:center; justify-content:center; gap:6px; font-weight:800}
.time-inputs input{width:64px; text-align:center; font-size:1.2rem; padding:10px; border-radius:10px; border:1px solid #dfe7ff; background:#fff}
.time-footer{display:flex; justify-content:flex-end; gap:10px; margin-top:8px}
.text-btn{background:none; border:none; color:var(--muted); font-weight:700; cursor:pointer}
.text-btn.ok{color:var(--primary)}

/* Preguntas */
.q-list{display:grid; gap:16px; margin-top:16px}
.q-card{
  border:1px solid var(--border);
  border-radius:18px;
  background:#fff;
  box-shadow:var(--shadow);
  padding:16px;
}
.q-head{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:10px
}
.q-label{font-weight:800; color:#0b1b31}
.q-actions{display:flex; gap:6px}
.icon{background:#fff; border:1px solid var(--border); border-radius:10px; width:36px; height:36px; display:grid; place-items:center; cursor:pointer}
.icon svg{width:18px; height:18px; fill:#475569}
.icon:hover{filter:brightness(1.02)}
.icon.tiny{width:28px; height:28px}
.icon.danger svg{fill:#ef4444}

.q-grid{display:grid; grid-template-columns:1fr minmax(220px,280px); gap:16px; align-items:end}
.select-wrap{position:relative}
select{
  appearance:none;
  background:#fff url("data:image/svg+xml;utf8,<svg fill='%236b7280' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>") no-repeat right 12px center;
}

/* Body según tipo */
.q-body{padding-top:8px}
.answer.short{border:0; border-bottom:1px dashed #cfd3d9; background:transparent}
.answer.para{border:1px dashed #cfd3d9; background:#fcfcff}

/* Opciones multiple choice */
.opt-box{display:grid; gap:10px}
.opt-list{display:grid; gap:8px}
.opt-row{display:flex; align-items:center; gap:10px}
.opt-bullet{width:16px; height:16px; border:2px solid #cfd3d9; border-radius:50%}

/* Add pregunta */
.add-bar{display:flex; justify-content:center; margin-top:8px}
.chip-btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:999px;
  background:#eef4ff; border:1px solid #dbe5ff;
  color:#0b57d0; font-weight:700; cursor:pointer;
}
.plus{display:inline-block; width:18px; height:18px; line-height:18px; text-align:center; font-weight:800}

/* Responsive */
@media (max-width: 720px){
  .inline{grid-template-columns:1fr}
  .q-grid{grid-template-columns:1fr}
}

/* Botón volver (idéntico a crear.evaluacion) */
.back {
  position: absolute;
  left: 8px;
  top: 12px;
  width: 44px;
  height: 44px;
  display: grid;
  place-items: center;
  border: 1px solid var(--border);
  border-radius: 50%;
  background: var(--surface);
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease;
}
.back svg {
  width: 22px;
  height: 22px;
  fill: var(--ink);
}
.back:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
}

/* Para asegurar que esté sobre todo */
.wrap {
  position: relative;
}

/* Botón Guardar y Volver */
.save-btn {
  background: #e8fff4;
  border-color: #b8f3d0;
  color: #0f5132;
  font-weight: 700;
  transition: transform .12s ease, box-shadow .12s ease;
}

.save-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16,185,129,.3);
}

/* ===== Alerts bonitas ===== */
.alerts{display:grid;gap:10px;margin:12px 0 18px}
.alert{
  --_bg:#eef6ff; --_border:#bfdbfe; --_accent:#2563eb; --_ink:#0b1b31;
  display:grid; grid-template-columns:28px 1fr auto; align-items:start; gap:12px;
  padding:12px 14px; border:1px solid var(--_border); border-left:6px solid var(--_accent);
  border-radius:14px; background:var(--_bg); color:var(--_ink);
  box-shadow:0 6px 18px rgba(0,0,0,.06); animation:alertSlideIn .25s ease-out both;
}
.alert__icon svg{width:22px;height:22px;display:block}
.alert__content{display:grid;gap:4px}
.alert__title{font-weight:800}
.alert__desc{color:#475569;font-size:.95rem}
.alert__close{appearance:none;border:0;background:transparent;cursor:pointer;padding:2px;line-height:0;border-radius:8px}
.alert__close:hover{background:rgba(0,0,0,.06)}
.alert__close svg{width:18px;height:18px}

/* Variantes */
.alert--info   {--_bg:#eef6ff; --_border:#bfdbfe; --_accent:#2563eb; --_ink:#0b1b31}
.alert--success{--_bg:#ecfdf5; --_border:#bbf7d0; --_accent:#10b981; --_ink:#064e3b}
.alert--warn   {--_bg:#fffbeb; --_border:#fde68a; --_accent:#f59e0b; --_ink:#7c2d12}
.alert--error  {--_bg:#fef2f2; --_border:#fecaca; --_accent:#ef4444; --_ink:#7f1d1d}

/* Animaciones */
@keyframes alertSlideIn{from{opacity:0;transform:translateY(-8px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes alertFadeOut{to{opacity:0;transform:translateY(-6px)}}
.alert--out{animation:alertFadeOut .18s ease-in forwards}

/* ===== Barra lateral de adjuntos en cada pregunta ===== */
.q-card { position: relative; padding-right: 72px; } /* espacio para la barra */

.q-side {
  position: absolute;
  right: 8px;
  top: 58px; /* debajo del header de la tarjeta */
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  width: 48px;
  padding: 8px 0;
  border-left: 1px solid var(--border);
}

.side-btn {
  width: 36px; height: 36px;
  display: grid; place-items: center;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: #fff; cursor: pointer;
}
.side-btn:hover { filter: brightness(1.02); }

.q-attachments { margin-top: 10px; display: grid; gap: 8px; }
.attach {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px; border-radius: 12px;
  background: #f9fafb; border: 1px dashed #cfd3d9;
}
.attach img { width: 52px; height: 52px; object-fit: cover; border-radius: 8px; }
.attach a { color: var(--primary); font-weight: 700; text-decoration: none; }
.attach .muted { color: #6b7280; font-weight: 600; }
.attach .rm {
  margin-left: auto; border: 1px solid var(--border);
  background: #fff; border-radius: 8px;
  width: 28px; height: 28px; display: grid; place-items: center; cursor: pointer;
}

.hidden-input { position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden; }

/* Nuevo patrón de simetría: Botón Volver (Back) y Título Centrado */
.header-row{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  margin-bottom:18px; /* Espacio debajo del título */
}

.header-row .icon-btn.back,
.header-row .back { /* Para los que usan la clase .back simple */
  position:absolute; /* Lo posiciona absolutamente a la izquierda */
  left:0;
}

.header-row .title{
  text-align:center;
  flex:1; /* Permite que el título ocupe el espacio central */
  margin:0; /* Elimina márgenes extra */
}