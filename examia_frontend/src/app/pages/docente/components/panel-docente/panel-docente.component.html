<!-- pages/docente/components/panel-docente/panel-docente.component.html -->
<header class="topbar">
  <div class="brand">
    <img src="assets/images/logo.png" alt="Logo Examia" class="logo">
  </div>
  <button class="icon-btn profile" aria-label="Perfil">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5.5A1.5 1.5 0 0 0 4.5 21h15A1.5 1.5 0 0 0 21 19.5C21 16.5 17 14 12 14Z"/>
    </svg>
  </button>
</header>

<section class="hero">
  <img src="assets/images/estudiantes.jpg" alt="Docente en clase">
</section>

<main class="wrap">
  <div class="actions-left">
    <button class="icon-btn back" aria-label="Volver" (click)="recargar()" title="Recargar datos">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
      </svg>
    </button>
  </div>

  <h1 class="title">Panel del Docente</h1>

  <!-- Estado de carga -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando panel docente...</p>
  </div>

  <!-- Estado de error -->
  <div *ngIf="hasError && !isLoading" class="error-state">
    <h3>‚ö†Ô∏è Error</h3>
    <p>{{ error }}</p>
    <button class="btn primary" (click)="recargar()">Reintentar</button>
  </div>

  <!-- Contenido principal cuando hay datos -->
  <div *ngIf="docenteData && !isLoading && !hasError">
    
    <!-- Informaci√≥n del docente -->
    <div class="docente-info">
      <h2>Bienvenido, {{ docenteData.docente.nombre }}</h2>
      <p class="docente-email">{{ docenteData.docente.email }}</p>
    </div>

    <!-- Estad√≠sticas -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">üìö</div>
        <div class="stat-content">
          <h3>{{ docenteData.estadisticas.totalCursos }}</h3>
          <p>Cursos Activos</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">üìù</div>
        <div class="stat-content">
          <h3>{{ docenteData.estadisticas.totalExamenes }}</h3>
          <p>Ex√°menes Creados</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">üë•</div>
        <div class="stat-content">
          <h3>{{ docenteData.estadisticas.totalAlumnos }}</h3>
          <p>Alumnos Totales</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">‚è∞</div>
        <div class="stat-content">
          <h3>{{ docenteData.estadisticas.pendientesCorreccion }}</h3>
          <p>Por Corregir</p>
        </div>
      </div>
    </div>

    <!-- Acciones principales -->
    <section class="cards">
      <a class="card" routerLink="/docente/cursos" (click)="navegarARuta('cursos')">
        <div class="card-icon">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M3 5h18v2H3V5Zm0 6h12v2H3v-2Zm0 6h18v2H3v-2Z"/>
          </svg>
        </div>
        <div class="card-text">
          <h3>Mis Cursos <span class="badge">{{ docenteData.estadisticas.totalCursos }}</span></h3>
          <p>Gestion√° tus cursos y materias asignadas.</p>
        </div>
      </a>

      <a class="card" routerLink="/docente/evaluaciones" (click)="navegarARuta('evaluaciones')">
        <div class="card-icon">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M9 11l-2 2-1-1-1.5 1.5L7 15l3.5-3.5L9 11zM4 4h16v2H4V4zm0 4h10v2H4V8zm0 8h16v2H4v-2zm0-4h10v2H4v-2z"/>
          </svg>
        </div>
        <div class="card-text">
          <h3>Evaluaciones <span class="badge">{{ docenteData.estadisticas.totalExamenes }}</span></h3>
          <p>Cre√° y gestion√° evaluaciones para tus cursos.</p>
        </div>
      </a>

      <a class="card" routerLink="/docente/corregir" (click)="navegarARuta('corregir')">
        <div class="card-icon">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 3a9 9 0 1 1 0 18A9 9 0 0 1 12 3Zm1 5h-2v6h2V8Zm0 8h-2v2h2v-2Z"/>
          </svg>
        </div>
        <div class="card-text">
          <h3>Corregir <span class="badge badge-warning">{{ docenteData.estadisticas.pendientesCorreccion }}</span></h3>
          <p>Revis√° y correg√≠ evaluaciones entregadas.</p>
        </div>
      </a>


    </section>

    <!-- Cursos recientes -->
    <section *ngIf="docenteData.cursosRecientes.length > 0" class="recent-courses">
      <h2>Cursos Recientes</h2>
      <div class="courses-grid">
        <div *ngFor="let curso of docenteData.cursosRecientes" 
             class="course-mini-card" 
             (click)="navegarARuta('cursos')"
             style="cursor: pointer;">
          <h4>{{ curso.nombre }}</h4>
          <p class="course-desc">{{ curso.descripcion }}</p>
          <div class="course-stats">
            <span>{{ curso.cantidad_alumnos }} alumnos</span>
            <span>‚Ä¢</span>
            <span>{{ curso.cantidad_examenes }} evaluaciones</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Mensaje si no hay cursos -->
    <section *ngIf="docenteData.cursosRecientes.length === 0" class="empty-state">
      <h3>üéØ Comienza creando tu primer curso</h3>
      <p>A√∫n no ten√©s cursos creados. Cre√° tu primer curso para empezar a gestionar evaluaciones.</p>
      <button class="btn primary" (click)="navegarARuta('cursos')">Crear Primer Curso</button>
    </section>
  </div>
</main>